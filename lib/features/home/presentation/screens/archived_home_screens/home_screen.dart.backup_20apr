import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:google_fonts/google_fonts.dart';
import 'package:supabase_flutter/supabase_flutter.dart';
import 'package:wandermood/features/auth/domain/providers/auth_provider.dart';
import 'package:wandermood/features/home/presentation/widgets/compact_weather_widget.dart';
import 'package:wandermood/features/home/presentation/widgets/hourly_weather_widget.dart';
import 'package:wandermood/features/home/presentation/widgets/interactive_weather_widget.dart';
import 'package:wandermood/features/explore/presentation/widgets/mood_selection_widget.dart';
import 'package:wandermood/features/mood/presentation/screens/mood_screen.dart';
import 'package:wandermood/features/profile/presentation/screens/profile_screen.dart';

class HomeScreen extends ConsumerStatefulWidget {
  const HomeScreen({super.key});

  @override
  ConsumerState<HomeScreen> createState() => _HomeScreenState();
}

class _HomeScreenState extends ConsumerState<HomeScreen> {
  int _selectedIndex = 0;
  bool _isWeatherExpanded = false;
  final Set<String> _selectedMoods = {};
  
  @override
  void initState() {
    super.initState();
    // Configure status bar for optimal display
    SystemChrome.setSystemUIOverlayStyle(
      const SystemUiOverlayStyle(
        statusBarColor: Colors.transparent,
        statusBarIconBrightness: Brightness.dark,
        statusBarBrightness: Brightness.light,
        systemNavigationBarColor: Colors.white,
        systemNavigationBarIconBrightness: Brightness.dark,
      ),
    );
  }
} 